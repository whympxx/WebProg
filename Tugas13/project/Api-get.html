{% load static %}
{% block content %}
{% if messages %}
    <div class="alert alert-success">
        {% for message in messages %}
            <strong>{{ message }}</strong>
        {% endfor %}
    </div>
{% endif %}

<h2>API Data</h2>
<table border="1">
    <thead>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Username</th>
            <th>Email</th>
            <th>Phone</th>
        </tr>
    </thead>
    <tbody>
        {% for obj in data %}
        <tr>
            <td>{{ obj.id }}</td>
            <td>{{ obj.name }}</td>
            <td>{{ obj.username }}</td>
            <td>{{ obj.email }}</td>
            <td>{{ obj.phone }}</td>
        </tr>
        {% empty %}
        <h1>Data masih kosong</h1>
        {% endfor %}
    </tbody>
</table>

<h2>Post Data</h2>
<form method="post" action="{% url 'myFirstApp:api-consume-post-data' %}">
    {% csrf_token %}
    <label for="name">Name:</label>
    <input type="text" id="name" name="name" required><br><br>
    <label for="username">Username:</label>
    <input type="text" id="username" name="username" required><br><br>
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required><br><br>
    <label for="phone">Phone:</label>
    <input type="text" id="phone" name="phone" required><br><br>
    <input type="submit" value="Submit">
</form>

<h2>Update Data</h2>
<form method="post" action="{% url 'myFirstApp:api-consume-put-data' '1' %}">
    {% csrf_token %}
    <label for="name">Name:</label>
    <input type="text" id="name" name="name" required><br><br>
    <label for="username">Username:</label>
    <input type="text" id="username" name="username" required><br><br>
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required><br><br>
    <label for="phone">Phone:</label>
    <input type="text" id="phone" name="phone" required><br><br>
    <input type="submit" value="Submit">
</form>

{% endblock %}
